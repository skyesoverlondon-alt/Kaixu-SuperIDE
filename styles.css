/*
  Simple styling for the browser IDE.  We keep the layout responsive
  using flexbox.  The toolbar is fixed at the top; below it the
  application is divided into a side bar (file tree and commit
  history), an editor pane and a preview pane.  Hidden panes are
  toggled using the `hidden` class.
*/

html,
body,
#app {
  /* Reset sizing and adopt a dark, branded look */
  margin: 0;
  padding: 0;
  height: 100%;
  width: 100%;
  font-family: Arial, Helvetica, sans-serif;
  background: linear-gradient(135deg, #0d0221, #2f0743);
  color: #f5f5f5;
}

#toolbar {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 1rem;
  background: rgba(32, 0, 56, 0.9);
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);
  color: #f5f5f5;
}

/* Brand logo */
#toolbar #logo {
  font-size: 1.25rem;
  font-weight: bold;
  margin-right: 1rem;
  color: #bb31ff;
  text-shadow: 0 0 6px rgba(187, 49, 255, 0.7);
}

#toolbar #logo .logoText{ font-weight: 900; letter-spacing: .5px; }
#toolbar #logo .logoSub{ font-size: .8rem; opacity: .85; margin-left: 10px; color: #ffd65a; text-shadow: 0 0 10px rgba(255,214,90,.35); }

.userChip{
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.18);
  background: rgba(0,0,0,.25);
  color: rgba(245,245,245,.9);
  font-size: 12px;
  max-width: 220px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.muted{ color: rgba(245,245,245,.72); font-size: 12px; }

#toolbar input,
#toolbar select,
#toolbar button,
#toolbar label {
  font-size: 0.85rem;
  margin: 0;
  border-radius: 4px;
}

main {
  display: flex;
  height: calc(100% - 3rem);
  overflow: hidden;
}

aside#side {
  width: 20%;
  background: rgba(24, 0, 48, 0.6);
  border-right: 1px solid rgba(255, 255, 255, 0.1);
  overflow-y: auto;
  color: #e0d6f5;
}

.sideTabs{
  display:flex;
  gap:8px;
  padding: 10px;
  position: sticky;
  top: 0;
  background: rgba(24,0,48,.9);
  border-bottom: 1px solid rgba(255,255,255,.08);
  z-index: 10;
}

.tabBtn{
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.12);
  color: rgba(245,245,245,.9);
  padding: 6px 10px;
  border-radius: 999px;
  font-weight: 800;
}
.tabBtn.active{
  background: rgba(187,49,255,.18);
  border-color: rgba(187,49,255,.45);
}

#editor-section {
  flex: 1;
  position: relative;
  display: flex;
  flex-direction: column;
  background: rgba(24, 0, 48, 0.4);
  border-right: 1px solid rgba(255, 255, 255, 0.1);
}

#editor {
  flex: 1;
  height: 100%;
  width: 100%;
  resize: none;
  font-family: Consolas, Menlo, monospace;
  font-size: 0.9rem;
  line-height: 1.5;
  background: rgba(0, 0, 0, 0.5);
  color: #f5f5f5;
  border: none;
  outline: none;
  padding: 0.75rem;
}

#preview-section {
  width: 30%;
  border-left: 1px solid rgba(255, 255, 255, 0.1);
  background: rgba(24, 0, 48, 0.4);
}

#preview-section.hidden {
  display: none;
}

.pane {
  padding: 0.5rem;
  overflow: auto;
}

.hidden {
  display: none;
}

/* Ensure new file controls appear inline when not hidden */
#new-file-input,
#create-file {
  display: inline-block;
}
#new-file-input.hidden,
#create-file.hidden {
  display: none;
}

/* File tree styling */
#file-tree ul {
  list-style: none;
  padding-left: 0.5rem;
}

#file-tree li {
  cursor: pointer;
  padding: 0.1rem 0.25rem;
  border-radius: 3px;
  transition: background 0.2s;
}

#file-tree li:hover {
  background: rgba(187, 49, 255, 0.1);
}

#file-tree li.selected {
  font-weight: bold;
  background: rgba(187, 49, 255, 0.2);
}

/* History pane */
#history-pane {
  padding: 0.5rem;
  color: #e0d6f5;
}

/* Chat */
.chatTop{
  display:flex;
  flex-wrap: wrap;
  gap: 10px;
  align-items: center;
  margin-bottom: 10px;
}

.chatTimeline{
  height: calc(100vh - 290px);
  overflow: auto;
  border: 1px solid rgba(255,255,255,.10);
  border-radius: 12px;
  padding: 10px;
  background: rgba(0,0,0,.20);
}

.chatMsg{
  padding: 10px;
  border-radius: 12px;
  margin-bottom: 10px;
  border: 1px solid rgba(255,255,255,.10);
}
.chatMsg.user{ background: rgba(255,214,90,.10); border-color: rgba(255,214,90,.22); }
.chatMsg.assistant{ background: rgba(187,49,255,.10); border-color: rgba(187,49,255,.22); }
.chatMeta{ font-size: 11px; opacity: .8; margin-bottom: 6px; display:flex; justify-content: space-between; gap: 10px; }
.chatActions{ display:flex; gap: 8px; margin-top: 8px; flex-wrap: wrap; }

.chatComposer{
  display:flex;
  gap: 10px;
  margin-top: 10px;
}

#chatInput{
  flex: 1;
  min-height: 64px;
  max-height: 180px;
  resize: vertical;
  background: rgba(0,0,0,.35);
  color: #f5f5f5;
  border: 1px solid rgba(255,255,255,.12);
  border-radius: 12px;
  padding: 10px;
  font-family: Consolas, Menlo, monospace;
  font-size: 12.5px;
}

/* Auth */
.authTabs{ display:flex; gap: 10px; margin: 10px 0; }
.authTabBtn{
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.14);
  color: #f5f5f5;
  padding: 8px 10px;
  border-radius: 999px;
  font-weight: 900;
}
.authTabBtn.active{ background: rgba(187,49,255,.18); border-color: rgba(187,49,255,.45); }
.authPanel input{ width: 100%; margin: 6px 0; }


#history-pane .commit {
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  padding: 0.5rem 0;
  cursor: pointer;
}

#history-pane .commit:hover {
  background: rgba(187, 49, 255, 0.1);
}

/* Preview iframe */
#preview-frame {
  width: 100%;
  height: 100%;
  border: none;
  background: #ffffff;
}

/* Utility classes */
.flex {
  display: flex;
}
.grow {
  flex-grow: 1;
}
button {
  background: rgba(80, 0, 140, 0.8);
  color: #f5f5f5;
  border: 1px solid rgba(187, 49, 255, 0.3);
  padding: 0.3rem 0.6rem;
  border-radius: 5px;
  cursor: pointer;
  transition: background 0.2s, border-color 0.2s;
}
button:hover {
  background: rgba(128, 0, 200, 0.8);
  border-color: rgba(187, 49, 255, 0.5);
}
button:disabled {
  opacity: 0.6;
  cursor: default;
}

input, select {
  background: rgba(24, 0, 48, 0.6);
  color: #f5f5f5;
  border: 1px solid rgba(255, 255, 255, 0.2);
  padding: 0.25rem 0.4rem;
  border-radius: 4px;
}

/* New file input width */
#new-file-input {
  width: 8rem;
}

input::placeholder, select::placeholder {
  color: #a58ccf;
}

label {
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
  cursor: pointer;
}

/* Checkbox styling using accent-color for better visibility */
input[type="checkbox"] {
  accent-color: #bb31ff;
}

/* Dialog overlay for new file creation */

/*
 * Dialog overlay for new file creation.  We explicitly set the base styles
 * on the `.dialog` class but avoid setting `display`.  The display is
 * controlled by the `.hidden` modifier on the element so that toggling
 * visibility via JavaScript works correctly.  See `.dialog.hidden` below.
 */
.dialog {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0, 0, 0, 0.6);
  z-index: 1000;
}

/* When a dialog also has the `hidden` class, force it to be removed from
   the flow entirely.  We use a more specific selector so that it wins
   over the base `.dialog` styles defined above. */
.dialog.hidden {
  display: none !important;
}

.dialog-content {
  background: rgba(32, 0, 56, 0.95);
  padding: 1rem 1.5rem;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
  min-width: 280px;
}

.dialog-content h3 {
  margin: 0 0 0.5rem 0;
  color: #bb31ff;
}

.dialog-content input {
  width: 100%;
  background: rgba(24, 0, 48, 0.8);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: #f5f5f5;
  padding: 0.4rem;
  margin-bottom: 0.5rem;
  border-radius: 4px;
}

.dialog-buttons {
  display: flex;
  gap: 0.5rem;
  justify-content: flex-end;
}

.dialog-buttons button {
  flex: 0 0 auto;
}

.orgBar{display:flex;gap:8px;align-items:center;margin-bottom:10px;flex-wrap:wrap}
.orgBar select{min-width:160px}

/* ── Editor container + dual panes ─────────────────────────────────────── */
#editor-section{display:flex;flex-direction:column;flex:1;overflow:hidden;min-width:0}
#editor-container{display:flex;flex:1;overflow:hidden;min-width:0}
.editor-pane{display:flex;flex-direction:column;flex:1;min-width:0;overflow:hidden;background:var(--bg-main,#13062a)}
.editor-pane.hidden{display:none}
.editor-area{flex:1;resize:none;border:none;outline:none;font-family:'Fira Mono','Cascadia Code',monospace;font-size:14px;line-height:1.6;padding:12px 16px;background:transparent;color:#e8deff;tab-size:2;white-space:pre;overflow-wrap:normal;overflow-x:auto}
.editor-area::placeholder{color:#5a4a7a}

/* ── Tab bar ──────────────────────────────────────────────────────────────── */
.tab-bar{display:flex;overflow-x:auto;background:rgba(0,0,0,.35);border-bottom:1px solid rgba(255,255,255,.07);flex-shrink:0;min-height:30px;align-items:stretch;scrollbar-width:thin}
.tab-bar::-webkit-scrollbar{height:3px}
.tab-bar::-webkit-scrollbar-thumb{background:rgba(255,255,255,.15);border-radius:3px}
.tab{display:flex;align-items:center;gap:5px;padding:0 10px;font-size:12px;cursor:pointer;border-right:1px solid rgba(255,255,255,.06);white-space:nowrap;color:#b0a0d0;user-select:none;min-height:30px}
.tab:hover{background:rgba(255,255,255,.06)}
.tab.active{background:rgba(255,255,255,.1);color:#e8deff;border-bottom:2px solid #a259ff}
.tab-name{max-width:120px;overflow:hidden;text-overflow:ellipsis}
.tab-dirty::after{content:'•';color:#ffd65a;margin-left:3px}
.tab-close{opacity:.5;font-size:10px;padding:0 2px;border-radius:3px;line-height:1;cursor:pointer}
.tab-close:hover{opacity:1;background:rgba(255,80,80,.4)}

/* ── Breadcrumb ──────────────────────────────────────────────────────────── */
.breadcrumb{display:flex;align-items:center;gap:2px;padding:0 12px;height:22px;font-size:11px;color:#8070a8;background:rgba(0,0,0,.2);border-bottom:1px solid rgba(255,255,255,.05);flex-shrink:0;overflow:hidden}
.bc-seg{cursor:pointer;color:#b0a0d0}
.bc-seg:hover{color:#e8deff}
.bc-sep{color:#5a4a7a}
.bc-empty{color:#5a4a7a;font-style:italic}

/* ── Split handle ─────────────────────────────────────────────────────────── */
#split-handle{width:4px;background:rgba(255,255,255,.08);cursor:col-resize;flex-shrink:0;transition:background .15s}
#split-handle:hover,#split-handle.dragging{background:#a259ff}

/* ── File viewer (image/CSV/markdown) ────────────────────────────────────── */
.file-viewer{flex:1;overflow:auto;padding:16px;font-family:inherit}
.file-viewer.hidden{display:none}
.file-viewer img{max-width:100%;border-radius:8px}
.file-viewer table{border-collapse:collapse;font-size:12px}
.file-viewer th,.file-viewer td{border:1px solid rgba(255,255,255,.12);padding:4px 8px}
.file-viewer th{background:rgba(255,255,255,.06);cursor:pointer;user-select:none}

/* ── Search panel ─────────────────────────────────────────────────────────── */
#search-panel{background:rgba(0,0,0,.4);border-bottom:1px solid rgba(255,255,255,.09);padding:8px 12px;flex-shrink:0}
.search-panel-header{display:flex;gap:6px;align-items:center;flex-wrap:wrap}
.search-panel-header input[type=text],#sp-query,#sp-replace{flex:1;min-width:100px;background:rgba(255,255,255,.07);border:1px solid rgba(255,255,255,.12);border-radius:6px;color:#e8deff;padding:4px 8px;font-size:12px}
.search-panel-header label{font-size:11px;color:#b0a0d0;display:flex;align-items:center;gap:3px;white-space:nowrap}
#search-results{max-height:260px;overflow-y:auto;margin-top:8px}
.search-file-group{margin-bottom:4px}
.search-file-label{font-size:11px;font-weight:600;color:#a259ff;padding:2px 4px;cursor:pointer}
.search-match{font-size:11px;padding:2px 8px;cursor:pointer;color:#c8bce8;border-radius:4px;display:flex;gap:6px;align-items:baseline}
.search-match:hover{background:rgba(255,255,255,.07)}
.search-match-pre{color:#5a4a7a}
.search-match-hl{background:#a259ff33;color:#e8deff;border-radius:2px;padding:0 2px}
.search-match-post{color:#5a4a7a}
.search-line-num{color:#5a4a7a;font-size:10px;min-width:28px;text-align:right;flex-shrink:0}

/* ── File tree rows ───────────────────────────────────────────────────────── */
#file-tree ul{list-style:none;margin:0;padding:0}
#file-tree li{margin:0}
.tree-row{display:flex;align-items:center;gap:5px;padding:3px 8px;font-size:12.5px;cursor:pointer;border-radius:5px;color:#c8bce8;user-select:none;white-space:nowrap}
.tree-row:hover{background:rgba(255,255,255,.06)}
.tree-row.selected{background:rgba(162,89,255,.22);color:#e8deff}
.tree-icon{font-size:12px;width:14px;text-align:center;flex-shrink:0}
.tree-name{overflow:hidden;text-overflow:ellipsis;flex:1}
.tree-cb{flex-shrink:0}
.tree-arrow{font-size:9px;opacity:.5;flex-shrink:0;transition:transform .15s}
.tree-arrow.open{transform:rotate(90deg)}
.tree-folder{font-weight:600;color:#ffd65a}
.tree-children{padding-left:14px}
.tree-children.hidden{display:none}

/* ── Toast notifications ─────────────────────────────────────────────────── */
#toast-container{position:fixed;bottom:22px;right:22px;z-index:9999;display:flex;flex-direction:column;gap:8px;pointer-events:none}
.toast{background:rgba(30,12,50,.95);border:1px solid rgba(255,255,255,.13);border-radius:12px;padding:10px 18px;font-size:13px;color:#e8deff;box-shadow:0 4px 24px #0009;pointer-events:none;animation:toastIn .25s ease;max-width:380px}
.toast.success{border-color:#a259ff66;color:#d0b8ff}
.toast.error{border-color:#ff506688;color:#ffb0b8}
@keyframes toastIn{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}

/* ── Context menu ─────────────────────────────────────────────────────────── */
#ctx-menu{position:fixed;z-index:9990;background:rgba(22,8,42,.97);border:1px solid rgba(255,255,255,.13);border-radius:10px;padding:4px 0;min-width:160px;box-shadow:0 8px 32px #0009;font-size:13px}
.ctx-item{padding:7px 18px;cursor:pointer;color:#c8bce8;white-space:nowrap;border-radius:6px;margin:0 4px}
.ctx-item:hover{background:rgba(162,89,255,.22);color:#e8deff}
.ctx-sep{border:0;border-top:1px solid rgba(255,255,255,.09);margin:4px 0}

/* ── Command palette ─────────────────────────────────────────────────────── */
#cmd-palette{align-items:flex-start;padding-top:80px}
.cmd-palette-box{width:560px;max-width:96vw;background:rgba(22,8,42,.98);border:1px solid rgba(162,89,255,.35);border-radius:14px;box-shadow:0 16px 48px #000c;overflow:hidden}
#cmd-input{width:100%;box-sizing:border-box;background:transparent;border:none;border-bottom:1px solid rgba(255,255,255,.09);color:#e8deff;font-size:15px;padding:14px 18px;outline:none}
.cmd-list{max-height:380px;overflow-y:auto}
.cmd-item{padding:8px 18px;cursor:pointer;color:#c8bce8;font-size:13px;display:flex;justify-content:space-between;gap:12px}
.cmd-item:hover,.cmd-item.selected{background:rgba(162,89,255,.22);color:#e8deff}
.cmd-item kbd{font-size:10px;color:#8070a8;background:rgba(255,255,255,.07);border:1px solid rgba(255,255,255,.12);border-radius:4px;padding:1px 5px;white-space:nowrap}
.cmd-group-header{padding:5px 18px 3px;font-size:10px;color:#6050a0;text-transform:uppercase;letter-spacing:.08em;font-weight:600}

/* ── Settings modal ──────────────────────────────────────────────────────── */
.settings-section{display:flex;flex-direction:column;gap:10px;margin-bottom:14px}
.settings-section label{display:flex;align-items:center;gap:10px;font-size:13px;color:#c8bce8}
.settings-section input[type=number]{width:64px;background:rgba(255,255,255,.07);border:1px solid rgba(255,255,255,.12);border-radius:6px;color:#e8deff;padding:3px 8px;font-size:13px}
.settings-section select{background:rgba(255,255,255,.07);border:1px solid rgba(255,255,255,.12);border-radius:6px;color:#e8deff;padding:3px 8px;font-size:13px}
.shortcuts-table{width:100%;border-collapse:collapse;font-size:12px;margin-top:4px}
.shortcuts-table td{padding:4px 8px;color:#b0a0d0;border-bottom:1px solid rgba(255,255,255,.05)}
.shortcuts-table td:first-child{font-family:monospace;color:#a259ff;width:140px}

/* ── Drag-over indicator ─────────────────────────────────────────────────── */
body.drag-over::after{content:'Drop files here';position:fixed;inset:0;display:flex;align-items:center;justify-content:center;font-size:2rem;color:#a259ff;background:rgba(10,0,25,.75);border:3px dashed #a259ff;z-index:9999;pointer-events:none}

/* ── Pane flex layout for outline / problems ─────────────────────────────── */
#outline-pane,#problems-pane{display:flex;flex-direction:column;padding:0;overflow:hidden}

/* ── Pane toolbar (outline / problems) ───────────────────────────────────── */
.pane-toolbar{display:flex;align-items:center;gap:6px;padding:6px 8px;border-bottom:1px solid rgba(255,255,255,.07);flex-shrink:0}
.pane-toolbar input,.pane-toolbar select{flex:1;min-width:0;background:rgba(255,255,255,.07);border:1px solid rgba(255,255,255,.12);border-radius:6px;color:#e8deff;padding:3px 8px;font-size:12px;outline:none}
.pane-toolbar input:focus,.pane-toolbar select:focus{border-color:#a259ff}
.toolbar-sm-btn{background:rgba(255,80,102,.15);border:1px solid rgba(255,80,102,.25);color:#ffb0b8;border-radius:5px;padding:3px 8px;font-size:11px;cursor:pointer;white-space:nowrap}
.toolbar-sm-btn:hover{background:rgba(255,80,102,.3)}

/* ── Problems badge ─────────────────────────────────────────────────────── */
.badge{display:inline-block;background:#ff5066;color:#fff;font-size:9px;font-weight:700;border-radius:8px;padding:1px 5px;margin-left:4px;vertical-align:middle;min-width:14px;text-align:center;line-height:14px}
.badge.hidden{display:none}

/* ── Outline panel ───────────────────────────────────────────────────────── */
#outline-list{flex:1;overflow-y:auto;padding:4px 0}
.outline-row{display:flex;align-items:center;gap:7px;padding:4px 10px;cursor:pointer;border-radius:5px;margin:0 4px;font-size:12px;white-space:nowrap;overflow:hidden}
.outline-row:hover{background:rgba(162,89,255,.15)}
.outline-icon{font-size:11px;font-weight:700;opacity:.85;min-width:16px;text-align:center}
.outline-name{flex:1;overflow:hidden;text-overflow:ellipsis;color:#d8c8f8}
.outline-line{font-size:10px;color:#6050a0;flex-shrink:0}
.outline-empty{padding:20px 12px;color:#6050a0;font-size:12px;text-align:center}
#outline-filter{font-size:12px}

/* ── Problems panel ──────────────────────────────────────────────────────── */
#problems-list{flex:1;overflow-y:auto;padding:4px 0}
.problems-file-group{margin-bottom:4px}
.problems-file-label{padding:5px 10px;font-size:11px;color:#8070b0;font-weight:600;display:flex;align-items:center;justify-content:space-between;background:rgba(255,255,255,.03);margin:0 4px;border-radius:4px}
.problems-count{font-size:10px;background:rgba(255,255,255,.08);padding:1px 6px;border-radius:8px}
.problem-row{display:flex;align-items:flex-start;gap:8px;padding:4px 12px;cursor:pointer;border-radius:5px;margin:0 4px;font-size:12px}
.problem-row:hover{background:rgba(162,89,255,.12)}
.problem-icon{font-size:13px;flex-shrink:0;margin-top:1px}
.problem-msg{flex:1;color:#d0c0f0;line-height:1.4}
.problem-loc{font-size:10px;color:#6050a0;white-space:nowrap;flex-shrink:0}
.problem-src{font-size:10px;color:#6050a0;margin-top:1px}
.problems-empty{padding:20px 12px;color:#6050a0;font-size:12px;text-align:center}

/* ── Templates modal ─────────────────────────────────────────────────────── */
.template-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:12px;max-height:420px;overflow-y:auto;padding:4px 2px}
.template-card{background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.1);border-radius:10px;padding:14px;cursor:pointer;transition:border-color .15s,background .15s;display:flex;flex-direction:column;gap:5px}
.template-card:hover{border-color:#a259ff;background:rgba(162,89,255,.12)}
.template-emoji{font-size:24px;margin-bottom:2px}
.template-name{font-size:14px;font-weight:700;color:#f0e8ff}
.template-desc{font-size:11px;color:#9080c0;line-height:1.4;flex:1}
.template-tags{display:flex;flex-wrap:wrap;gap:4px;margin-top:4px}
.template-tags .tag{background:rgba(162,89,255,.2);color:#c8a8ff;font-size:10px;padding:1px 6px;border-radius:8px}
.template-file-count{font-size:10px;color:#6050a0;margin-top:4px}
.template-empty{padding:32px 0;color:#6050a0;font-size:13px;text-align:center}
#templates-search{background:rgba(255,255,255,.07);border:1px solid rgba(255,255,255,.12);border-radius:8px;color:#e8deff;padding:7px 12px;font-size:13px;outline:none;box-sizing:border-box}
#templates-search:focus{border-color:#a259ff}

/* ── Paste import modal ──────────────────────────────────────────────────── */
.paste-modal-textarea{width:100%;height:220px;background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.12);border-radius:8px;color:#e8deff;font-family:monospace;font-size:12px;padding:10px;resize:vertical;outline:none;box-sizing:border-box}
.paste-modal-textarea:focus{border-color:#a259ff}

/* ── Snippet manager modal ───────────────────────────────────────────────── */
.snippets-layout{display:flex;gap:16px;min-height:360px;max-height:60vh}
.snippets-list-col{flex:0 0 280px;display:flex;flex-direction:column;gap:6px}
.snippets-form-col{flex:1;display:flex;flex-direction:column;gap:8px;min-width:0}
#snippets-search{background:rgba(255,255,255,.07);border:1px solid rgba(255,255,255,.12);border-radius:6px;color:#e8deff;padding:5px 10px;font-size:12px;outline:none;box-sizing:border-box;width:100%}
#snippets-search:focus{border-color:#a259ff}
.snippets-list{flex:1;overflow-y:auto;border:1px solid rgba(255,255,255,.08);border-radius:8px;background:rgba(0,0,0,.2)}
.snippet-row{display:flex;align-items:center;gap:6px;padding:6px 10px;font-size:12px;border-bottom:1px solid rgba(255,255,255,.05);cursor:default}
.snippet-row.builtin{opacity:.7}
.snippet-row:hover{background:rgba(162,89,255,.1)}
.snip-prefix{font-family:monospace;color:#a259ff;font-size:12px;min-width:60px;font-weight:600}
.snip-lang{font-size:10px;color:#6050a0;background:rgba(255,255,255,.06);border-radius:4px;padding:1px 5px;white-space:nowrap}
.snip-name{flex:1;color:#d0c0f0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.snip-edit-btn{font-size:10px;background:rgba(162,89,255,.2);border:none;color:#c8a8ff;border-radius:4px;padding:2px 6px;cursor:pointer;margin-left:auto}
.snip-edit-btn:hover{background:rgba(162,89,255,.4)}
.snip-del-btn{font-size:10px;background:rgba(255,80,80,.15);border:none;color:#ff9090;border-radius:4px;padding:2px 6px;cursor:pointer}
.snip-del-btn:hover{background:rgba(255,80,80,.35)}
.snip-label{display:flex;flex-direction:column;gap:3px;font-size:12px;color:#9080c0}
.snip-label input,.snip-label select{background:rgba(255,255,255,.07);border:1px solid rgba(255,255,255,.12);border-radius:6px;color:#e8deff;padding:5px 9px;font-size:12px;outline:none}
.snip-label input:focus,.snip-label select:focus{border-color:#a259ff}
.snip-body-area{background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.12);border-radius:6px;color:#e8deff;font-family:monospace;font-size:12px;padding:8px;resize:vertical;outline:none;min-height:100px;line-height:1.5}
.snip-body-area:focus{border-color:#a259ff}

/* ── Format-on-save indicator ────────────────────────────────────────────── */
.status-fmt{font-size:10px;color:#a259ff;margin-left:4px;opacity:.7}

